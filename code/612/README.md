## Friend numbers



Let's call two numbers *friend numbers* if their representation in base $10$ has at least one common digit.  
E.g. $1123$ and $3981$ are friend numbers.

Let $f(n)$ be the number of pairs $(p, q)$ with $1\le p\lt q\lt n$ such that $p$ and $q$ are friend numbers.  
$f(100)=1539$.

Find $f(10^{18})$ mod $1000267129$.


